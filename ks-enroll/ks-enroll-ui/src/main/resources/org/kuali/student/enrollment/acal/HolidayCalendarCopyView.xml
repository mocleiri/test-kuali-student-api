<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p" xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd
                           http://www.springframework.org/schema/util
                           http://www.springframework.org/schema/util/spring-util-2.0.xsd">

    <bean id="KS-HolidayCalendar-CopyView" parent="KSFormView"
          p:id="holidayCalendarCopyView"
          p:title="Create New Holiday Calendar"
          p:viewHelperServiceClassName="org.kuali.student.enrollment.class2.acal.service.impl.AcademicCalendarViewHelperServiceImpl"
          p:formClass="org.kuali.student.enrollment.class2.acal.form.HolidayCalendarForm"
          p:header.id="KS-HolidayCalendar-CopyView-header">
        <property name="header">
            <bean parent="Uif-HeaderField-Two"/>
        </property>
        <property name="footer">
            <bean parent="Uif-FooterBase"
                  p:id="KS-HolidayCalendar-CopyView-footer">
                <property name="items">
                    <list>
                        <bean parent="Uif-SecondaryActionButton"
                              p:methodToCall="copy"
                              p:actionLabel="Copy Holiday Calendar"
                              p:render="@{holidayCalendarInfo != null}"
                              p:id="KS-HolidayCalendar-CopyView-CopyButton"/>
                    </list>
                </property>
            </bean>
        </property>
        <property name="additionalCssFiles">
            <list merge="true">
                <value>/ks-enroll/css/calendar.css</value>
            </list>
        </property>
        <property name="header.items">
            <list>
                <bean parent="Uif-VerticalBoxGroup"
                      p:id="KS-HolidayCalendar-CopyView-header-items">
                    <property name="items">
                        <list>
                            <bean parent="Uif-MessageField"
                                  p:messageText="Information from the existing calendar will copied over. Dates will recalculated to accurately reflect the new calendar's start date."
                                  p:id="KS-HolidayCalendar-CopyView-header-text" />
                            <bean parent="Uif-Link"
                                  p:linkLabel="Start a blank calendar instead?"
                                  p:target="_self"
                                  p:hrefText="@{#ConfigProperties['application.url']}/kr-krad/holidayCalendar?viewId=holidayCalendarEditView&amp;methodToCall=start"
                                  p:id="KS-HolidayCalendar-CopyView-header-link" />
                        </list>
                    </property>
                </bean>
            </list>
        </property>
        <property name="items">
            <list>
                <bean parent="Uif-Page"
                      p:header.render="false"
                      p:disclosure.render="false"
                      p:id="KS-HolidayCalendar-CopyView-Page">
                    <property name="items">
                        <list>
                            <bean parent="Uif-VerticalBoxSection"
                                  p:id="KS-HolidayCalendar-CopyView-Section">
                                <property name="items">
                                    <list>
                                        <ref bean="KS-HolidayCalendar-CopyView-From"/>
                                        <ref bean="KS-HolidayCalendar-CopyView-To"/>
                                    </list>
                                </property>
                            </bean>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="KS-HolidayCalendar-CopyView-From" parent="Uif-VerticalBoxSubSection"
          p:title="Copy From:"
          p:id="KS-HolidayCalendar-CopyView-From">
        <property name="header">
            <bean parent="Uif-HeaderField-Four"/>
        </property>
        <property name="items">
            <list>
                <bean parent="Uif-VerticalBoxGroup"
                      p:render="@{holidayCalendarInfo != null}"
                      p:id="KS-HolidayCalendar-CopyView-From-CalInfo">
                    <property name="items">
                        <list>
                            <bean parent="Uif-DataField"
                                  p:propertyName="holidayCalendarInfo.name"
                                  p:style="font-size:125%;font-weight:bold;"
                                  p:showLabel="false"
                                  p:id="KS-HolidayCalendar-CopyView-From-name"/>
                            <bean parent="Uif-DataField"
                                  p:propertyName="holidayCalendarInfo.startDate"
                                  p:label="Start Date"
                                  p:id="KS-HolidayCalendar-CopyView-From-startDate"/>
                            <bean parent="Uif-DataField"
                                  p:propertyName="holidayCalendarInfo.endDate"
                                  p:label="End Date"
                                  p:id="KS-HolidayCalendar-CopyView-From-endDate"/>
                        </list>
                    </property>
                </bean>
                <bean parent="Uif-MessageField"
                      p:messageText="A recent holiday calendar could not be found."
                      p:render="@{holidayCalendarInfo == null}"
                      p:id="KS-HolidayCalendar-CopyView-From-NoCalendar"/>
                <bean parent="Uif-VerticalBoxGroup"
                      p:id="KS-HolidayCalendar-CopyView-From-SearchInfo">
                    <property name="items">
                        <list>
                            <bean parent="Uif-ActionLink"
                                  p:actionLabel="@{holidayCalendarInfo != null ? 'Choose a Different Calendar' : 'Choose a Calendar'}"
                                  p:id="KS-HolidayCalendar-CopyView-From-SearchLink">
                            </bean>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

    <bean id="KS-HolidayCalendar-CopyView-To" parent="Uif-VerticalBoxSubSection"
          p:title="Copy To:"
          p:render="@{holidayCalendarInfo != null}"
          p:id="KS-HolidayCalendar-CopyView-To">
        <property name="header">
            <bean parent="Uif-HeaderField-Four"/>
        </property>
        <property name="items">
            <list>
                <bean parent="Uif-GridGroup"
                      p:layoutManager.numberOfColumns="2"
                      p:layoutManager.applyDefaultCellWidths="false"
                      p:id="KS-HolidayCalendar-CopyView-To-Group">
                    <property name="items">
                        <list>
                            <bean parent="Uif-InputField"
                                  p:label="Name"
                                  p:required="true"
                                  p:propertyName="newCalendarName"
                                  p:labelField.width="15%"
                                  p:id="KS-HolidayCalendar-CopyView-To-name">
                                <property name="validCharactersConstraint">
                                    <bean parent="AlphaNumericPatternConstraint"
                                          p:allowWhitespace="true" />
                                </property>
                                <property name="control">
                                    <bean parent="Uif-TextControl"
                                          p:size="40"
                                          p:watermarkText="New calendar name"/>
                                </property>
                            </bean>
                            <bean parent="Uif-InputField"
                                  p:label="Start Date"
                                  p:required="true"
                                  p:propertyName="newCalendarStartDate"
                                  p:id="KS-HolidayCalendar-CopyView-To-startDate">
                                <property name="validCharactersConstraint">
                                    <bean parent="DatePatternConstraint" />
                                </property>
                                <property name="control">
                                    <bean parent="Uif-DateControl" />
                                </property>
                            </bean>
                            <bean parent="Uif-InputField"
                                  p:label="End Date"
                                  p:required="true"
                                  p:propertyName="newCalendarEndDate"
                                  p:id="KS-HolidayCalendar-CopyView-To-endDate">
                                <property name="validCharactersConstraint">
                                    <bean parent="DatePatternConstraint" />
                                </property>
                                <property name="control">
                                    <bean parent="Uif-DateControl" />
                                </property>
                            </bean>
                        </list>
                    </property>
                </bean>
            </list>
        </property>
    </bean>

</beans>