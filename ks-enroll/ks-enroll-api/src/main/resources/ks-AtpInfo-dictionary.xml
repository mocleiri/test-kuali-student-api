<!--
 Copyright 2011 The Kuali Foundation

 Licensed under the Educational Community License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.opensource.org/licenses/ecl2.php

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="
       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
       ">

    <import resource="classpath:ks-base-dictionary.xml"/>

    <bean id="AtpInfo.required.when.state.is.official" parent="CaseConstraint">
        <property name="operator" value="EQUALS" />
        <property name="fieldPath" value="stateKey" />
        <property name="caseSensitive" value="true" />
        <property name="whenConstraint">
            <list>
                <bean parent="WhenConstraint">
                    <property name="values">
                        <list>
                            <value>kuali.atp.state.Official</value>
                        </list>
                    </property>
                    <property name="constraint">
                        <bean parent="RequiredConstraint" />
                    </property>
                </bean>
            </list>
        </property>
    </bean>


    <!-- AtpInfo-->
    <bean id="AtpInfo-parent" abstract="true" parent="DataObjectEntry">
        <property name="name" value="AtpInfo"/>
        <property name="objectClass" value="org.kuali.student.r2.core.atp.dto.AtpInfo"/>
        <property name="objectLabel" value=""/>
        <property name="objectDescription" value=""/>
        <property name="titleAttribute" value="name"/>
        <property name="primaryKeys">
            <list>
                <value>key</value>
            </list>
        </property>
        <property name="attributes">
            <list>
                <ref bean="AtpInfo.key"/>
                <ref bean="AtpInfo.typeKey"/>
                <ref bean="AtpInfo.stateKey"/>
                <ref bean="AtpInfo.name"/>
                <ref bean="AtpInfo.descr"/>
                <ref bean="AtpInfo.descr.plain"/>                
                <ref bean="AtpInfo.descr.formatted"/>                   
                <ref bean="AtpInfo.startDate"/>
                <ref bean="AtpInfo.endDate"/>
<!--            <ref bean="AtpInfo.attributes"/>-->
<!--            <ref bean="AtpInfo.meta"/>-->
            </list>
        </property>  
    </bean>
    <bean id="AtpInfo" parent="AtpInfo-parent"/>

    <bean id="AtpInfo.typeKey-parent" abstract="true" parent="BaseKuali.typeKey">
        <property name="name" value="typeKey"/>
    </bean>
    <bean id="AtpInfo.typeKey" parent="AtpInfo.typeKey-parent"/>

    <bean id="AtpInfo.stateKey-parent" abstract="true" parent="BaseKuali.stateKey">
        <property name="name" value="stateKey"/>       
    </bean>
    <bean id="AtpInfo.stateKey" parent="AtpInfo.stateKey-parent"/>


    <bean id="AtpInfo.name-parent" abstract="true" parent="BaseKuali.name">
        <property name="name" value="name"/>
    </bean>
    <bean id="AtpInfo.name" parent="AtpInfo.name-parent"/>

    <bean id="AtpInfo.descr-parent" abstract="true" parent="BaseKuali.descr">
        <property name="name" value="descr"/>
    </bean>
    <bean id="AtpInfo.descr" parent="AtpInfo.descr-parent"/>
    
    
    <bean id="AtpInfo.descr.plain-parent" abstract="true" parent="BaseKuali.descr.plain">
        <property name="name" value="descr.plain"/>
    </bean>
    <bean id="AtpInfo.descr.plain" parent="AtpInfo.descr.plain-parent"/>

    <bean id="AtpInfo.descr.formatted-parent" abstract="true" parent="BaseKuali.descr.formatted">
        <property name="name" value="descr.formatted"/>
    </bean>
    <bean id="AtpInfo.descr.formatted" parent="AtpInfo.descr.formatted-parent"/>
    
    <bean id="AtpInfo.startDate-parent" abstract="true" parent="BaseKuali.dateTime">
        <property name="name" value="startDate"/>
        <property name="childEntryName" value="startDate"/>        
        <property name="required" value="false"/>
        <property name="shortLabel" value="Starts"/>
        <property name="summary" value="Start Date of ATP"/>
        <property name="label" value="Starts Date"/>
        <property name="description" value="Date and time the academic time period became effective. This does not provide a bound on date ranges or milestones associated with this time period, but instead indicates the time period proper. This is a similar concept to the effective date on enumerated values. When an expiration date has been specified, this field must be less than or equal to the expiration date"/>      
        <property name="caseConstraint">
            <ref bean="AtpInfo.required.when.state.is.official"/>
        </property>   
    </bean>
    <bean id="AtpInfo.startDate" parent="AtpInfo.startDate-parent"/>
    
    <bean id="AtpInfo.endDate-parent" abstract="true" parent="BaseKuali.dateTime">
        <property name="name" value="endDate"/>
        <property name="childEntryName" value="endDate"/>        
        <property name="required" value="false"/>
        <property name="shortLabel" value="Ends"/>
        <property name="summary" value="End Date of the ATP"/>
        <property name="label" value="End Date"/>
        <property name="description" value="Date and time the academic time period expires. This does not provide a bound on date ranges or milestones associated with this time period, but instead indicates the time period proper. If specified, this must be greater than or equal to the effective date. If this field is not specified, then no expiration date has been currently defined and should automatically be considered greater than the effective date." />      
    </bean>
    <bean id="AtpInfo.endDate" parent="AtpInfo.endDate-parent"/>

    <bean id="AtpInfo.key-parent" abstract="true" parent="BaseKuali.key">
        <property name="name" value="key"/>
    </bean>
    <bean id="AtpInfo.key" parent="AtpInfo.key-parent"/>

    <bean id="AtpInfo.meta-parent" abstract="true" parent="BaseKuali.meta">
        <property name="name" value="meta"/>
    </bean>
    <bean id="AtpInfo.meta" parent="AtpInfo.meta-parent"/>

    <bean id="AtpInfo.attributes-parent" abstract="true" parent="BaseKuali.complex">
        <property name="name" value="attributes"/>
    </bean>
    <bean id="AtpInfo.attributes" parent="AtpInfo.attributes-parent"/>

</beans>
