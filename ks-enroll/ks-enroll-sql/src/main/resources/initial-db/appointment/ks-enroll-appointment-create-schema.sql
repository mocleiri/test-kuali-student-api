-----------------------------------------------------------------------------
-- DROP all the tables
-----------------------------------------------------------------------------

DECLARE temp NUMBER;
BEGIN
	SELECT COUNT(*) INTO temp FROM user_tables WHERE table_name = 'KSEN_APPT';
	IF temp > 0 THEN EXECUTE IMMEDIATE 'DROP TABLE KSEN_APPT CASCADE CONSTRAINTS PURGE'; END IF;
END;
/

DECLARE temp NUMBER;
BEGIN
	SELECT COUNT(*) INTO temp FROM user_tables WHERE table_name = 'KSEN_APPT_ATTR';
	IF temp > 0 THEN EXECUTE IMMEDIATE 'DROP TABLE KSEN_APPT_ATTR CASCADE CONSTRAINTS PURGE'; END IF;
END;
/

DECLARE temp NUMBER;
BEGIN
	SELECT COUNT(*) INTO temp FROM user_tables WHERE table_name = 'KSEN_APPT_SLOT';
	IF temp > 0 THEN EXECUTE IMMEDIATE 'DROP TABLE KSEN_APPT_SLOT CASCADE CONSTRAINTS PURGE'; END IF;
END;
/

DECLARE temp NUMBER;
BEGIN
	SELECT COUNT(*) INTO temp FROM user_tables WHERE table_name = 'KSEN_APPT_SLOT_ATTR';
	IF temp > 0 THEN EXECUTE IMMEDIATE 'DROP TABLE KSEN_APPT_SLOT_ATTR CASCADE CONSTRAINTS PURGE'; END IF;
END;
/

DECLARE temp NUMBER;
BEGIN
	SELECT COUNT(*) INTO temp FROM user_tables WHERE table_name = 'KSEN_APPT_WINDOW';
	IF temp > 0 THEN EXECUTE IMMEDIATE 'DROP TABLE KSEN_APPT_WINDOW CASCADE CONSTRAINTS PURGE'; END IF;
END;
/

DECLARE temp NUMBER;
BEGIN
	SELECT COUNT(*) INTO temp FROM user_tables WHERE table_name = 'KSEN_APPT_WINDOW_ATTR';
	IF temp > 0 THEN EXECUTE IMMEDIATE 'DROP TABLE KSEN_APPT_WINDOW_ATTR CASCADE CONSTRAINTS PURGE'; END IF;
END;
/

CREATE TABLE KSEN_APPT
(
	ID                   VARCHAR2(255) NOT NULL ,
	OBJ_ID               VARCHAR2(255) NULL ,
	APPT_TYPE            VARCHAR2(255) NOT NULL ,
	APPT_STATE           VARCHAR2(255) NOT NULL ,
	PERS_ID              VARCHAR2(255) NOT NULL ,
	SLOT_ID              VARCHAR2(255) NOT NULL ,
	EFF_DT               TIMESTAMP(6) NULL ,
	EXPIR_DT             TIMESTAMP(6) NULL ,
	VER_NBR              NUMBER(19) NOT NULL ,
	CREATETIME           TIMESTAMP(6) NOT NULL ,
	CREATEID             VARCHAR2(255) NOT NULL ,
	UPDATETIME           TIMESTAMP(6) NULL ,
	UPDATEID             VARCHAR2(255) NULL
)
/

CREATE TABLE KSEN_APPT_ATTR
(
	ID                   VARCHAR2(255) NOT NULL ,
	OBJ_ID               VARCHAR2(36) NULL ,
	ATTR_KEY             VARCHAR2(255) NULL ,
	ATTR_VALUE           VARCHAR2(4000) NULL ,
	OWNER_ID             VARCHAR2(255) NULL
)
/

CREATE TABLE KSEN_APPT_SLOT
(
	OBJ_ID               VARCHAR2(255) NULL ,
	APPT_SLOT_TYPE       VARCHAR2(255) NOT NULL ,
	APPT_SLOT_STATE      VARCHAR2(255) NOT NULL ,
	START_DT             TIMESTAMP(6) NOT NULL ,
	END_DT               TIMESTAMP(6) NULL ,
	VER_NBR              NUMBER(19) NOT NULL ,
	CREATETIME           TIMESTAMP(6) NOT NULL ,
	CREATEID             VARCHAR2(255) NOT NULL ,
	UPDATETIME           TIMESTAMP(6) NULL ,
	UPDATEID             VARCHAR2(255) NULL ,
	ID                   VARCHAR2(255) NOT NULL ,
	APPT_WINDOW_ID       VARCHAR2(255) NOT NULL
)
/

CREATE TABLE KSEN_APPT_SLOT_ATTR
(
	ID                   VARCHAR2(255) NOT NULL ,
	OBJ_ID               VARCHAR2(36) NULL ,
	ATTR_KEY             VARCHAR2(255) NULL ,
	ATTR_VALUE           VARCHAR2(4000) NULL ,
	OWNER_ID             VARCHAR2(255) NULL
)
/

CREATE TABLE KSEN_APPT_WINDOW
(
	ID                   VARCHAR2(255) NOT NULL ,
	OBJ_ID               VARCHAR2(255) NULL ,
	APPT_WINDOW_TYPE     VARCHAR2(255) NOT NULL ,
	APPT_WINDOW_STATE    VARCHAR2(255) NOT NULL ,
	NAME                 VARCHAR2(255) NOT NULL ,
	DESCR_PLAIN          VARCHAR2(4000) NULL ,
	DESCR_FORMATTED      VARCHAR2(4000) NULL ,
	START_DT             TIMESTAMP(6) NULL ,
	END_DT               TIMESTAMP(6) NULL ,
	SR_WEEKDAYS          VARCHAR2(255) NULL ,
	SR_START_TIME_MS     NUMBER NULL ,
	SR_END_TIME_MS       NUMBER NULL ,
	SR_START_INTVL_DUR_TYPE VARCHAR2(255) NULL ,
	SR_START_INTVL_TIME_QTY NUMBER NULL ,
	SR_DUR_TYPE          VARCHAR2(255) NULL ,
	SR_DUR_TIME_QTY      NUMBER NULL ,
	PRD_MSTONE_ID        VARCHAR2(255) NULL ,
	ASSIGNED_POPULATION_ID VARCHAR2(255) NULL ,
	ASSIGNED_ORDER_TYPE  VARCHAR2(255) NULL ,
	MAX_APPT_PER_SLOT    NUMBER NULL ,
	VER_NBR              NUMBER(19) NOT NULL ,
	CREATETIME           TIMESTAMP(6) NOT NULL ,
	CREATEID             VARCHAR2(255) NOT NULL ,
	UPDATETIME           TIMESTAMP(6) NULL ,
	UPDATEID             VARCHAR2(255) NULL
)
/

CREATE TABLE KSEN_APPT_WINDOW_ATTR
(
	ID                   VARCHAR2(255) NOT NULL ,
	OBJ_ID               VARCHAR2(36) NULL ,
	ATTR_KEY             VARCHAR2(255) NULL ,
	ATTR_VALUE           VARCHAR2(4000) NULL ,
	OWNER_ID             VARCHAR2(255) NULL
)
/